# 커서 위치 이동 로직 설명

## `오늘 moodnote 열기` 명령어 실행 시 커서 이동 방법

### 1단계: 오늘 날짜 헤더 찾기
먼저 문서 안에서 오늘 날짜의 헤더(예: "### 20일 (금)")를 찾습니다.

### 2단계: 오늘 섹션의 범위 파악하기
오늘 헤더를 찾았다면, 그 아래 내용이 어디까지인지 확인합니다. 다음 날짜 헤더(다음 "### "로 시작하는 줄)가 나오기 전까지, 또는 문서 끝까지가 오늘 섹션입니다.

### 3단계: 섹션 내에서 가장 마지막 내용이 있는 줄 찾기
오늘 섹션 안에서 빈 줄이 아닌, 실제 내용이 있는 가장 마지막 줄을 찾습니다. 거꾸로 올라가면서 내용이 있는 줄을 찾는 방식입니다.

### 4단계: 커서를 그 줄의 맨 끝으로 이동
내용이 있는 마지막 줄을 찾으면, 그 줄의 맨 끝으로 커서를 옮깁니다. 이렇게 하면 바로 타이핑을 시작할 수 있습니다.

### 특별한 경우들

**오늘 헤더가 없는 경우:**
- 문서 끝에 오늘 날짜 헤더를 새로 만들고, 그 아래 줄로 커서를 옮깁니다.

**오늘 섹션에 아무 내용도 없는 경우:**
- 헤더 바로 아래 줄로 커서를 옮깁니다.

**오늘 헤더를 찾지 못한 경우:**
- 문서의 맨 마지막 줄로 커서를 옮깁니다.

## 결과

이 로직을 통해 명령어를 실행하면:
- 오늘 날짜 섹션으로 자동 이동
- 이미 작성한 내용 바로 뒤에 커서가 위치
- 바로 내용을 이어서 작성 가능
